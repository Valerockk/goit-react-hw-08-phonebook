(this["webpackJsonp08-phonebook"]=this["webpackJsonp08-phonebook"]||[]).push([[4],{169:function(t,e,n){t.exports={list:"ContactList_list__2T7aG",item:"ContactList_item__3YsZK",info:"ContactList_info__DNDkd"}},176:function(t,e,n){t.exports={form:"ContactForm_form__1fuOn",textField:"ContactForm_textField__3CVaX",input:"ContactForm_input__gm87B",btn:"ContactForm_btn__2Bpnz"}},177:function(t,e,n){t.exports={label:"Filter_label__3DcZT",input:"Filter_input__2DoVp"}},178:function(t,e,n){t.exports={wrapper:"ContactsView_wrapper__CCOvq"}},204:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return J}));var r={};n.r(r),n.d(r,"fetchContacts",(function(){return b})),n.d(r,"addContact",(function(){return d})),n.d(r,"deleteContact",(function(){return f}));var c={};n.r(c),n.d(c,"getContacts",(function(){return h})),n.d(c,"getLoading",(function(){return p})),n.d(c,"getError",(function(){return m})),n.d(c,"getFilter",(function(){return O})),n.d(c,"getVisibleContacts",(function(){return C}));var a=n(0),o=n(14),s=n(27),i=n.n(s),u=n(11),l=n(23),b=function(){return function(t){t(Object(u.fetchContactsRequest)()),i.a.get("/contacts").then((function(e){var n=e.data;return t(Object(u.fetchContactsSuccess)(n))})).catch((function(e){t(Object(u.fetchContactsError)(e)),404===e.response.status?l.b.info("There is no such user's collection!"):500===e.response.status?l.b.error("Oops! Server error! Please try later!"):l.b.error("Something went wrong! Please reload the page!")}))}},d=function(t,e){return function(n){var r={name:t,number:e};n(Object(u.addContactRequest)()),i.a.post("/contacts",r).then((function(t){var e=t.data;return n(Object(u.addContactSuccess)(e))})).catch((function(t){n(Object(u.addContactError)(t)),400===t.response.status?l.b.error("Contact creation error!"):l.b.error("Something went wrong! Please reload the page!")}))}},f=function(t){return function(e){e(Object(u.deleteContactRequest)()),i.a.delete("/contacts/".concat(t)).then((function(){return e(Object(u.deleteContactSuccess)(t))})).catch((function(t){e(Object(u.deleteContactError)(t)),404===t.response.status?l.b.info("There is no such user's collection!"):500===t.response.status?l.b.error("Oops! Server error! Please try later!"):l.b.error("Something went wrong! Please reload the page!")}))}},j=n(44),h=function(t){return t.contacts.items},p=function(t){return t.contacts.isLoading},m=function(t){return t.contacts.error},O=function(t){return t.contacts.filter},C=Object(j.a)([h,O],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),g=n(201),x=n(170),_=n.n(x),v=n(169),w=n.n(v),k=n(2);var y=function(){var t=Object(o.b)(),e=Object(o.c)(c.getVisibleContacts),n=Object(o.c)(c.getContacts);return Object(k.jsxs)(k.Fragment,{children:[n.length>0&&Object(k.jsx)("ul",{className:w.a.list,children:e.map((function(e){var n=e.id,c=e.name,a=e.number;return Object(k.jsxs)("li",{className:w.a.item,children:[Object(k.jsxs)("p",{className:w.a.info,children:[Object(k.jsx)("b",{children:c}),Object(k.jsx)("em",{children:a})]}),Object(k.jsx)(g.a,{"aria-label":"delete",color:"secondary",type:"button",onClick:function(){return t(r.deleteContact(n))},children:Object(k.jsx)(_.a,{})})]},n)}))}),!n.length&&Object(k.jsx)("p",{children:"Your phonebook is empty. Please add contact."})]})},F=n(159),N=n(175),S=n(148),L=n(57),E=n(176),P=n.n(E),D=n(203);var V=function(){var t=Object(o.b)(),e=Object(o.c)(c.getContacts),n=Object(o.c)(c.getLoading),s=Object(a.useState)(""),i=Object(F.a)(s,2),u=i[0],b=i[1],d=Object(a.useState)(""),f=Object(F.a)(d,2),j=f[0],h=f[1],p=function(t){var e=t.target,n=e.name,r=e.value;switch(n){case"name":b(r);break;case"number":h(r);break;default:return}},m=function(){b(""),h("")};return Object(k.jsxs)("form",{className:P.a.form,onSubmit:function(n){return n.preventDefault(),function(t){return e.find((function(e){return e.name.toLowerCase()===t.toLowerCase()}))}(u)?Object(l.b)("\ud83e\udd14 ".concat(u," is already in the phonebook.")):function(t){return e.find((function(e){return e.number===t}))}(j)?Object(l.b)("\ud83e\udd14 ".concat(j," is already in the phonebook.")):function(t,e){return""===t.trim()||""===e.trim()}(u,j)?l.b.info("\ud83d\ude31 Enter the contact's name and number phone!"):(t(r.addContact(u,j)),void m())},children:[Object(k.jsx)(D.a,{label:"Name",variant:"outlined",color:"secondary",type:"text",name:"text",value:u,onChange:p,className:P.a.textField}),Object(k.jsx)(N.a,{placeholder:"Enter phone number",format:"(###) ###-##-##",mask:"_",pattern:"^[0-9\\s\\(\\)\\-]{15}",type:"tel",name:"number",value:j,onChange:p,className:P.a.input}),!n&&Object(k.jsx)(S.a,{variant:"contained",color:"secondary",size:"large",type:"submit",children:"Add contact"}),n&&Object(k.jsx)(L.a,{})]})},q=n(177),T=n.n(q);var R=function(){var t=Object(o.b)(),e=Object(o.c)(c.getFilter),n=Object(o.c)(c.getContacts);return Object(k.jsx)(k.Fragment,{children:n.length>0&&Object(k.jsx)("label",{className:T.a.label,children:Object(k.jsx)("input",{className:T.a.input,type:"text",value:e,placeholder:"Enter a name to search...",onChange:function(e){return t(u.filterContact(e.target.value))}})})})},z=n(178),B=n.n(z);function J(){var t=Object(o.b)();return Object(a.useEffect)((function(){return t(r.fetchContacts())}),[t]),Object(k.jsxs)("div",{className:B.a.wrapper,children:[Object(k.jsx)("h1",{children:"Phonebook"}),Object(k.jsx)(V,{}),Object(k.jsx)("h2",{children:"Contacts"}),Object(k.jsx)(R,{}),Object(k.jsx)(y,{})]})}}}]);
//# sourceMappingURL=4.136355db.chunk.js.map